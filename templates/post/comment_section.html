<div class="comments">
    <ul id="all-comments">
        {% for item in children_of(post["id"], comments) recursive %}
            <li class="comment" id="{{ item["id"] }}">
                <small class="authorship comment-author">
                    {{ user(item["author"]) }} at {{ correct_date(item["timestamp"]) }}
                </small>
                <div class="markdown">
                    {{ md(item["content"])|safe }}
                </div>
                <small>
                    <button class="reply-button" onclick="showReplyForm(this, '{{ item["id"] }}')">reply</button>
                    <br>
                </small>
                <ul class="child-comments" id="children-of-{{ item["id"] }}">
                    {{ loop(children_of(item["id"], comments)) }}
                </ul>
            </li>
        {% endfor %}
    </ul>
</div>